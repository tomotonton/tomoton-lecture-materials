# 01：C++ 入門 - C言語との違い

---

## 📘 はじめに

C++ は、C言語をもとにして作られた「拡張言語」です。1980年代初頭、AT&Tベル研究所のビャーネ・ストラウストラップ氏によって開発されました。当初は「C with Classes（クラス付きC言語）」という名称で呼ばれていましたが、クラス・テンプレート・例外処理などが追加され、現在の「C++ 」という名前になりました（"Cに1つプラス"という意味も込められています）。

C++ はC言語と高い互換性を持っており、Cのコードの多くはC++ でもそのまま動作します。実際にC++ のプログラム中にC言語の書き方（例：`printf`）を混ぜて書いても問題ありません：

```cpp
#include <cstdio>
#include <iostream>

int main() {
    printf("これはCの書き方\n");
    std::cout << "これはC++ の書き方" << std::endl;
    return 0;
}
```

このように、C++ は「C言語が書ける人ならすぐに始められる」一方で、さらに強力な機能を持った言語です。
ゲーム開発の現場でも、C++ は非常に広く使われており、多くのゲームエンジン（たとえば Unreal Engine など）でもコアの部分はC++ で書かれています。

この授業では、C言語の経験を活かしながら、C++ の基本的な書き方や、ゲーム制作に役立つプログラミングスキルを身につけていきます。

実際のゲーム開発の現場でも、C++ は今なお重要な役割を担っています。たとえば、Unreal EngineはC++ がメインで使われており、高度な描画処理や物理演算、AIなどの高速な処理が必要な部分で活用されています。また、Unityでゲームを制作する場合も、C++ で書かれたネイティブプラグインやエンジン内部の仕組みを理解することで、より柔軟で高性能な開発が可能になります。

C++ を学ぶことは、単なる言語習得にとどまらず、ゲームエンジンの中身やパフォーマンスの最適化、さらにはプロとして開発現場で活躍するための大きな武器になります。

特にUnityを使ったゲーム制作に関心がある人にとっても、C++ の理解はとても重要です。Unity自体はC#で開発しますが、ゲームエンジンの設計や低レベルの処理に使われている技術はC++ がベースです。C++ を学ぶことで、処理の仕組みを深く理解できたり、より高度なロジックやパフォーマンスチューニングの考え方を身につけることができます。

---

## 🔍 C++ の特徴まとめ（今はざっくり理解でOK）

- `cout` や `cin` で入出力が簡単にできる
- `class` を使って設計できる（ゲーム内キャラやアイテムをクラスで表現）
- `new` / `delete` によるメモリ管理（Cの malloc / free に代わる）
- 同じ名前の関数を条件ごとに使い分けられる（オーバーロード）
- `try` / `catch` による例外処理でエラーに強くなる
- `namespace` で名前の衝突を防ぐ（チーム開発向け）
- テンプレートを使って汎用的な処理が書ける

> ✅ ゲーム制作にも直結する強力な仕組みが多数あります！

このコマでは「入出力（printf と cout）」の違いを中心に、C++ の第一歩を踏み出しましょう。

---

## 💻 実践編：一歩ずつ確認してみよう

### ステップ1：基本の出力（01_hello.cpp）
```cpp
#include <iostream>
using namespace std;

int main() {
    cout << "こんにちは" << endl;
    return 0;
}
```
✅ このコードを実行して、出力結果を確認しよう！

---

### ステップ2：複数の出力をつなげてみよう（01_02_concat.cpp）
```cpp
cout << "名前：" << "田中" << endl;
```
✅ `<<` を複数つなげることで、文字列を連続して表示できます。

💡 **ヒント：** ステップ1のコードをコピーしてこの行を追加して新しいファイル `01_02_concat.cpp` を作ってみよう。

---

### ステップ3：改行なしにしてみよう（01_03_no_endl.cpp）
```cpp
cout << "ようこそ";
cout << " C++ の世界へ！";
```
✅ `endl` を使わないと改行されません。挙動を観察しよう！

💡 **ヒント：** `01_02_concat.cpp` をコピーして、この2行を加えて `01_03_no_endl.cpp` を作ってみよう。

---

### ステップ4：std:: を明示してみよう（01_04_std_prefix.cpp）
```cpp
std::cout << "これはstd::coutです" << std::endl;
```
✅ `using namespace std;` を外すと、こう書く必要があります。

💡 **ヒント：** `01_03_no_endl.cpp` をコピーして、`using namespace std;` を削除し、すべてに `std::` を付けて `01_04_std_prefix.cpp` にしてみましょう。

---

## 🧠 解説編：iostreamと<<演算子

- `cout` は C++ の「標準出力」オブジェクト（画面への出力）
- `<<` は「ストリーム挿入演算子」
  - データを出力に"流し込む"という意味
  - 複数つなげると、左から右に順番に表示される

```cpp
cout << "HP:" << 100 << "/" << 150 << endl;
```
→ 出力： `HP:100/150`

- `endl` は改行＋出力の強制表示（バッファフラッシュ）

> ✅ `<<` でスコア表示、デバッグ出力、ログ出力などゲーム制作に欠かせない！

---

## 🌐 名前空間 `namespace std`

C++ では、複数人での開発やライブラリの使用時に、**名前の衝突（同じ名前の関数や変数がぶつかること）を防ぐ**ために「名前空間（namespace）」という仕組みが導入されています。

たとえば、C++ の標準ライブラリには `cout` や `endl`、`vector` や `string` など、便利な機能が多数用意されていますが、これらはすべて `std` という名前空間に属しています。

```cpp
std::cout << "Hello" << std::endl;
```

これは、「`std` 名前空間にある `cout` を使いますよ」という意味です。

---

### ❓ なぜ必要なのか？

ゲーム開発やチーム開発では、同じ名前の関数やクラスが別々の場所で定義されることがよくあります。

```cpp
MyEngine::Vector2D
std::vector
```

このように、名前空間でグループ分けすることで「意味がかぶる名前」でも共存できるようになります。

---

### ✅ `using namespace std;` とは？

```cpp
using namespace std;
```

この一文を最初に書くと、以降のコードでは `std::` を省略できます：

```cpp
cout << "Hello" << endl;
```

ただし、規模の大きなプロジェクトやライブラリ開発では、**あえて明示的に `std::cout` と書いた方が安全**なこともあります。

> 🔒 安全に書きたいなら `std::` を明記する習慣も大事！

---cpp
std::cout << "Hello" << std::endl;
```
これは `std` という標準名前空間にある `cout` を使っているという意味です。

```cpp
using namespace std;
```
と書くことで、以降のコードでは `std::` を省略できます。

---

##  理解度チェック

> Q. 以下の C++ コードの出力は何でしょうか？

```cpp
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, C++!" << endl;
    return 0;
}
```

- 正解：`Hello, C++!`
- ポイント：`cout` と `endl` を正しく使えていればOK！

---

## ✅ まとめ

このコマでは、
- C++ の誕生とC言語との関係
- `cout` と `<<` を使った出力の基本
- `namespace std` の意味と使い方
を学びました。

