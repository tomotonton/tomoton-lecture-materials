# 07：配列とベクタの使い方

---

## 🎯 このコマのねらい

- C++における配列と`vector`の基本的な使い方を学ぶ
- 配列とベクタの違い・使いどころを理解する
- ベクタの操作（追加・削除・サイズ確認・安全なアクセス）を習得する

---

## 📘 C++とCの違い（配列とvector）

- C言語では固定長の配列（`int a[10];`）が基本
- C++では`vector`を使うことでサイズ可変・安全な配列操作が可能
- `vector`はメモリ管理が自動、`push_back`で要素追加、`size()`で要素数確認
- `vector`は `.pop_back()`、`.erase()`、`.clear()` などで要素削除も可能
- C++の設計思想：必要なときに、必要なサイズ・型で、安全に操作できる構文を提供する

---

## 💡 配列とベクタの違い

| 特徴      | 配列（C/C++共通） | `vector`（C++のみ）           |
| ------- | ----------- | ------------------------- |
| サイズ変更   | 不可（固定）      | 可（自動で可変）                  |
| 要素追加    | 不可          | `.push_back()`            |
| 要素削除    | 不可          | `.pop_back()`, `.erase()` |
| 要素数取得   | 不明（別変数が必要）  | `.size()`                 |
| 範囲外アクセス | 未定義動作（危険）   | `.at()`で安全                |

```cpp
vector<int> nums = {1, 2, 3, 4};// → {1, 2, 3, 4}
nums.pop_back();                // → {1, 2, 3} 末尾を削除
nums.erase(nums.begin());       // → {2, 3}    位置指定して削除、先頭を指定  
nums.clear();                   // → {}        全削除
```

---

## 💻 実践ステップ

### 07\_01\_array\_basic.cpp（C風の配列）

```cpp
#include <iostream>
using namespace std;

int main() {
    int scores[5];
    cout << "点数を5つ入力してください：" << endl;
    for (int i = 0; i < 5; i++) {
        cin >> scores[i];
    }
    for (int i = 0; i < 5; i++) {
        cout << i + 1 << "人目: " << scores[i] << "点" << endl;
    }
    return 0;
}
```

---

### 07\_02\_vector\_basic.cpp（C++のvector）

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> scores;
    int temp;
    cout << "点数を5つ入力してください：" << endl;
    for (int i = 0; i < 5; i++) {
        cin >> temp;
        scores.push_back(temp);
    }
    for (int i = 0; i < scores.size(); i++) {
        cout << i + 1 << "人目: " << scores[i] << "点" << endl;
    }
    return 0;
}
```

---

### 07\_03\_vector\_at.cpp（.at()で安全にアクセス）

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<string> names = {"Aoi", "Sora", "Yuki"};
    for (int i = 0; i < names.size(); i++) {
        cout << names.at(i) << endl; // 範囲外アクセス時にエラーを出す
    }
    return 0;
}
```

---

### 07\_04\_vector\_erase.cpp（削除操作の例）

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> nums = {10, 20, 30, 40, 50};
    nums.pop_back(); // 最後を削除 → {10, 20, 30, 40}
    nums.erase(nums.begin() + 1); // 2番目を削除 → {10, 30, 40}
    for (int n : nums) {
        cout << n << " ";
    }
    cout << endl;
    return 0;
}
```

---

## 🔍 演習問題

1. 配列を使って、ユーザーから5人分の身長を入力し、平均を計算して表示してください（07\_05\_array\_avg.cpp）
2. `vector`を使って、入力された数値を全て保持し、最後に合計と平均を表示してください（07\_06\_vector\_sum\_avg.cpp）
3. `vector<string>`を使って、3人の名前を入力→`for`文で表示してください（07\_07\_vector\_names.cpp）
4. 任意の数値を次々に入力→偶数だけを削除し、残りを表示してください（07\_08\_vector\_erase\_even.cpp）

---

## ✅ まとめ

- 配列は固定長でCから続く基本構文、`vector`は柔軟性と安全性を兼ね備えたC++の便利ツール
- `vector`を使うことで、現代的で実践的なコードが書ける
- 削除や安全なアクセスも可能で、for文や関数と組み合わせて活用できる

